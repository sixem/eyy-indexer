"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}
/**
 * @license
 * 
 * <eyy-indexer-main> [https://github.com/sixem/eyy-indexer]
 * 
 * @author   emy [admin@eyy.co]
 */
!function(){var s=JSON.parse($("#__INDEXER_DATA__").html()),c={store:{preview:{},defaults:{},selection:{},selected:null,refresh:!1},debounce:function(t){var n;return function(e){n&&clearTimeout(n),n=setTimeout(t,100,e)}},checkNested:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var o=0;o<n.length;o++){if(!e||!Object.prototype.hasOwnProperty.call(e,n[o]))return!1;e=e[n[o]]}return!0},getReadableSize:function(e){var t=0<arguments.length&&void 0!==e?e:0;if(0===t)return"0.00"+s.format.sizes[0];for(var n=0;n++,1024<(t/=1024););return Math.max(t,.1).toFixed(n<2?0:2)+s.format.sizes[n]},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},fallbackCopyTextToClipboard:function(e){var t=document.createElement("textarea");t.value=e,t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy");s.debug&&console.log("fallback","copying text command was "+(n?"successful":"unsuccessful"))}catch(e){s.debug&&console.error("fallback","unable to copy",e)}document.body.removeChild(t)},copyTextToClipboard:function(e){navigator.clipboard?navigator.clipboard.writeText(e).then(function(){s.debug&&console.log("async","copying to clipboard was successful.")},function(e){s.debug&&console.error("async","could not copy text: ",e)}):c.fallbackCopyTextToClipboard(e)},getCellValue:function(e,t){var n=$(e).children("td").eq(t).data("raw");return void 0!==n?n:$(e).children("td").eq(t).text()},comparer:function(o){return function(e,t){var n=c.getCellValue(e,o),r=c.getCellValue(t,o);return $.isNumeric(n)&&$.isNumeric(r)?n-r:n.localeCompare(r)}},generateWget:function(){var e=window.location.href,r=[];return $("body > table > tbody > tr.file > td:first-child > a:visible").each(function(e,t){var n=$(t).text().split(".").pop().toLowerCase().trim();r.includes(n)||r.push(n)}),'wget -r -np -nH -nd -e robots=off --accept "'.concat(r.join(","),'" "').concat(e,'"')},client:{get:function(){var n,t=["gallery","sort","style"],r={gallery:{reverse_options:s.gallery.reverse_options,list_alignment:s.gallery.list_alignment,fit_content:s.gallery.fit_content,autoplay:!0,volume:.25},style:{compact:s.style.compact,theme:!1}};try{n=JSON.parse(Cookies.get("ei-client")),t.forEach(function(e){Object.prototype.hasOwnProperty.call(n,e)||(n[e]=Object.prototype.hasOwnProperty.call(r,e)?r[e]:{})});var o=!1;Object.keys(r).forEach(function(t){Object.keys(r[t]).forEach(function(e){Object.prototype.hasOwnProperty.call(n[t],e)||(n[t][e]=r[t][e],o=!0)})}),o&&c.client.set(n)}catch(e){n={},s.style.themes.set&&(r.style.theme=s.style.themes.set),t.forEach(function(e){return n[e]={}}),c.client.set(Object.assign(n,r))}return n},set:function(e,t){var n=1<arguments.length&&void 0!==t?t:{},n=Object.assign({sameSite:"lax",expires:365},n);Cookies.set("ei-client",JSON.stringify(e),n)}},settings:{available:function(){return!!(c.checkNested(s,"style","themes","pool")&&0<s.style.themes.pool.length||!0===s.gallery.enabled)},create:{option:function(e,t,n,r){var o=2<arguments.length&&void 0!==n?n:{},a=3<arguments.length&&void 0!==r?r:null;Object.prototype.hasOwnProperty.call(o,"class")&&(o.class="option "+o.class);var i=Object.assign({class:"option"},o),l={class:"option-text",text:t};return a&&(l.title=a),e.wrap($("<div/>")).parent().wrap($("<div/>",i)).parent().prepend($("<div/>",l))},section:function(e,t){var n=1<arguments.length&&void 0!==t?t:null;return $("<div/>",{class:"section","data-key":e}).append($("<div/>",{class:"header",text:n||c.capitalize(e)}))},select:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:null,o=$("<select/>",1<arguments.length&&void 0!==t?t:{});return o.append(e.map(function(e,t){e.text=c.capitalize(e.text);var n=$("<option/>",e);return null!==r&&!0===r(n,t,o)&&(n[0].selected=!0,o[0].selectedIndex=t),n})),o},check:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},r=1<arguments.length&&void 0!==t?t:null,o=null!==r&&r();o&&(n.checked="");var a=$("<input/>",Object.assign(n,{type:"checkbox"}));return a[0].checked=o,a}},close:function(){$("body > div.focus-overlay, body > div.settings-container").remove()},update:{style:{theme:function(e){c.theme.set(!1===e?null:e,!1)},compact:function(e){$("body")[e?"addClass":"removeClass"]("compact")}},gallery:{list_alignment:function(t){var e,n,r;c.gallery.instance&&((e=["body > div.gallery-container > div.content-container > div.media > div.loader","body > div.gallery-container > div.content-container > div.list","body > div.gallery-container > div.content-container > div.list > div.drag"]).forEach(function(e){return 0===t?$(e).removeClass("reversed"):$(e).addClass("reversed")}),n=$(e[1]).detach(),r="body > div.gallery-container > div.content-container > div.media",1===t?n.insertBefore(r):n.insertAfter(r),c.gallery.instance.store.list.reverse=0!==t)},reverse_options:function(e){var t;c.gallery.instance&&(c.gallery.instance.store.reverse_options=e,0<(t=$("body > div.gallery-container > div.content-container > div.media > div.wrapper > div.cover .reverse")).length&&t.remove())},autoplay:function(e){c.gallery.instance&&(c.gallery.instance.store.autoplay=e)},fit_content:function(e){var t;c.gallery.instance&&(c.gallery.instance.store.fit_content=e,(t=$("body > div.gallery-container > div.content-container > div.media > div.wrapper"))&&e?(t.addClass("fill"),c.store.refresh=!0,c.store.selected=null):t&&(t.removeClass("fill"),[".cover",".cover img","video"].forEach(function(e){return $(e).css({height:"",width:""})})))}}},options:{gather:function(e){var o={};return e.find(["select",'input[type="checkbox"]'].join(",")).each(function(e,t){var n,r;(t=$(t))[0].hasAttribute("name")&&(n=t.attr("name"),r=t[0].hasAttribute("data-key")?t.attr("data-key"):t.closest(".section").attr("data-key"),Object.prototype.hasOwnProperty.call(o,r)||(o[r]={}),t.is("select")?o[r][n]=t[0].selectedIndex:t.is('input[type="checkbox"]')&&(o[r][n]=t[0].checked))}),o},set:function(a,e){var i=(i=1<arguments.length&&void 0!==e?e:null)||c.client.get();return Object.keys(a).forEach(function(r){var o="main"===r;o||Object.prototype.hasOwnProperty.call(i,r)||(i[r]={}),Object.keys(a[r]).forEach(function(e){var t=null;switch(e){case"theme":a[r][e]<=s.style.themes.pool.length-1&&(t="default"!==s.style.themes.pool[a[r][e]]&&s.style.themes.pool[a[r][e]]);break;default:t=a[r][e]}var n=o?i[e]!==t:i[r][e]!==t;a[r][e]={value:t,changed:n},o?i[e]=t:i[r][e]=t,n&&(o&&Object.prototype.hasOwnProperty.call(c.settings.update,e)?c.settings.update[e](t):c.checkNested(c.settings.update,r,e)&&c.settings.update[r][e](t))})}),s.debug&&console.log("set settings",a),c.client.set(i),a}},apply:function(e,t){var n=(n=1<arguments.length&&void 0!==t?t:null)||c.client.get();c.settings.options.set(c.settings.options.gather(e),n),c.settings.close()},show:function(){var e,l,t,n;0<$("body > div.settings-container").length||(0===$("body > div.focus-overlay").length&&$("<div/>",{class:"focus-overlay"}).appendTo($("body")).on("click",function(){return c.settings.close()}),e=$("<div/>",{class:"settings-container"}),l=c.client.get(),t=[function(e,t){var n=0<arguments.length&&void 0!==e?e:c.settings.create.section("main"),r=1<arguments.length&&void 0!==t?t:0;return c.checkNested(s,"style","themes","pool")&&0<s.style.themes.pool.length&&(n.append(c.settings.create.option(c.settings.create.select(s.style.themes.pool.map(function(e){return{value:e,text:e}}),{name:"theme","data-key":"style"},function(e,t){return null===s.style.themes.set&&0===t||e[0].value==s.style.themes.set}),"Theme")),r++),c.checkNested(s,"style","compact")&&!s.mobile&&(n.append(c.settings.create.option(c.settings.create.check({name:"compact","data-key":"style"},function(){return c.checkNested(l,"style","compact")?l.style.compact:s.style.compact}),"Compact Style",{class:"interactable"},"Set the page to use a more compact style.")),r++),{settings:r,section:n}}()],s.gallery.enabled&&t.push(function(e,t){var a=0<arguments.length&&void 0!==e?e:c.settings.create.section("gallery"),i=1<arguments.length&&void 0!==t?t:0;s.mobile||(a.append(c.settings.create.option(c.settings.create.select(["right","left"].map(function(e){return{value:"align-"+e,text:e}}),{name:"list_alignment"},function(e,t){return t===l.gallery.list_alignment}),"List Alignment")),i++);var n=[];return n.push(["Reverse Search","reverse_options","Toggle the visibility of reverse search options on images."],["Autoplay Videos","autoplay","Toggle the autoplaying of videos."],["Fit Content","fit_content","Force images and videos to fill the screen."]),n.forEach(function(e){var t=_slicedToArray(e,3),n=t[0],r=t[1],o=t[2];a.append(c.settings.create.option(c.settings.create.check({name:r},function(){return c.checkNested(l,"gallery",r)?l.gallery[r]:s.gallery[r]}),n,{class:"interactable"},o)),i++}),{settings:i,section:a}}()),e.append($("<div/>",{class:"wrapper"}).append(t.map(function(e){return 0<e.settings?e.section:null}).filter(function(e){return null!==e}))),n=$("<div/>",{class:"bottom"}).appendTo(e),$("<div/>",{class:"apply ns",text:"Apply"}).appendTo(n).on("click",function(){return c.settings.apply(e,l)}),$("<div/>",{class:"cancel ns",text:"Cancel"}).appendTo(n).on("click",function(){return c.settings.close()}),$("body").append(e),e.find("div.section > .option.interactable").on("mouseup",function(e){var t;window.getSelection().toString()||0<(t=$(e.currentTarget).find('input[type="checkbox"]')).length&&!$(e.target).is("input")&&(t[0].checked=!t[0].checked)}))}},menu:{create:function(){var n=$("<div/>",{class:"menu"}).appendTo($("body")),e=[{text:"[Show] Filter",id:"filter"},{text:"[Copy] WGET",id:"copy"}];return!0===s.gallery.enabled&&0<$("body > table > tbody > tr.file > td > a.preview").length&&e.unshift({text:"[Open] Gallery",id:"gallery"}),c.settings.available()&&e.unshift({text:"[Open] Settings",id:"settings",class:"settings"}),e.forEach(function(e){var t=$("<div/>",{text:e.text,class:"ns"+(Object.prototype.hasOwnProperty.call(e,"class")?" "+e.class:"")}).appendTo(n);Object.prototype.hasOwnProperty.call(e,"id")&&t.attr("id",e.id)}),n[0].addEventListener("click",function(e){"DIV"==e.target.tagName&&("gallery"==e.target.id&&!0===s.gallery.enabled?(c.gallery.load(null),c.menu.toggle(!1)):"copy"==e.target.id?(c.copyTextToClipboard(c.generateWget()),c.menu.toggle(!1)):"settings"==e.target.id?(c.settings.show(),c.menu.toggle(!1)):"filter"==e.target.id&&(c.filter.toggle(),c.menu.toggle()))}),n},toggle:function(e){var t=0<arguments.length&&void 0!==e?e:null,n=$("body > div.menu");return n.css("display","boolean"==typeof t?t?"inline-block":"none":n.is(":hidden")?"inline-block":"none"),$("body > .top-bar > div.extend").html(n.is(":hidden")?"&#x25BE;":"&#x25B4;"),n.is(":hidden")}},theme:{set:function(e,t){var n=0<arguments.length&&void 0!==e?e:null,r=!(1<arguments.length&&void 0!==t)||t,o=$('head > link[rel="stylesheet"]').filter(function(e,t){return t.hasAttribute("href")&&t.getAttribute("href").match(new RegExp("/(themes)/","i"))});if(null===(s.style.themes.set=n)||!n)return o.each(function(e,t){return t.remove()}),!1;r&&c.client.set(c.client.get().style.theme=n),$("head").append($("<link/>",{rel:"stylesheet",type:"text/css",href:"".concat(s.style.themes.path,"/").concat(n,".css")})),o.each(function(e,t){return t.remove()})}},filter:{apply:function(e){var o=0<arguments.length&&void 0!==e?e:null;c.store.refresh=!0;var a={reset:""===(o=o||""),shown:{directories:0,files:0},hidden:{directories:0,files:0},size:0},i=null;c.gallery.instance&&(c.gallery.instance.data.selected.index=0),$("body > table > tbody > tr.file, body > table > tbody > tr.directory").each(function(e,t){if(t=$(t),!0===a.reset)return t[0].removeAttribute("hidden"),!0;var n,r=t.hasClass("file");try{i={valid:!0,data:t.find("td:eq(0)").attr("data-raw").match(new RegExp(o,"i"))}}catch(e){i={valid:!1,reason:e}}i.valid&&i.data?t[0].removeAttribute("hidden"):t[0].setAttribute("hidden",""),i.valid&&i.data&&r&&(n=t.find("td:eq(2)").attr("data-raw"),isNaN(n)||(a.size=a.size+parseInt(n))),i.valid&&i.data?r?a.shown.files++:a.shown.directories++:r?a.hidden.files++:a.hidden.directories++});var t={container:$("body > div.top-bar")};["size","files","directories"].forEach(function(e){return t[e]=t.container.find('[data-count="'.concat(e,'"]'))}),Object.prototype.hasOwnProperty.call(c.store.defaults,"top_values")||(c.store.defaults.top_values={size:t.size.text(),files:t.files.text(),directories:t.directories.text()}),t.size.text(a.reset?c.store.defaults.top_values.size:c.getReadableSize(a.size)),t.files.text(a.reset?c.store.defaults.top_values.files:"".concat(a.shown.files," file").concat(1===a.shown.files?"":"s")),t.directories.text(a.reset?c.store.defaults.top_values.directories:"".concat(a.shown.directories," ").concat(1===a.shown.directories?"directory":"directories"));var n,r=$("body > div.menu > #gallery"),l=$("body > table tr.file:visible a.preview").length,s=$("body > div.filter-container div.status");0<s.length&&(a.reset?s.text("").removeClass("se"):i&&!1===i.valid?s.text(i.reason).addClass("se"):(n=a.shown.files+a.shown.directories,s.text("".concat(n," result").concat(1===n?"":"s",".")).removeClass("se"))),!a.reset&&0===l&&0<r.length?"none"!==r.css("display")&&r.css("display","none"):(0<l||a.reset)&&0<r.length&&"none"===r.css("display")&&r.css("display","block")},toggle:function(){var e=$("body > div.filter-container"),t=e.find('input[type="text"]');e.is(":visible")?e.hide():(t.val(""),c.filter.apply(null),e.show()),t.focus()}},dates:{format:function(e,t){function n(e,t){return c[e]?c[e]():t}function r(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}var o,a,i,l=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],s=/\\?(.?)/gi,c={d:function(){return r(c.j(),2)},D:function(){return c.l().slice(0,3)},j:function(){return o.getDate()},l:function(){return l[c.w()]+"day"},N:function(){return c.w()||7},S:function(){var e=c.j(),t=e%10;return t<=3&&1===parseInt(e%100/10,10)&&(t=0),["st","nd","rd"][t-1]||"th"},w:function(){return o.getDay()},z:function(){var e=new Date(c.Y(),c.n()-1,c.j()),t=new Date(c.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(c.Y(),c.n()-1,c.j()-c.N()+3),t=new Date(e.getFullYear(),0,4);return r(1+Math.round((e-t)/864e5/7),2)},F:function(){return l[6+c.n()]},m:function(){return r(c.n(),2)},M:function(){return c.F().slice(0,3)},n:function(){return o.getMonth()+1},t:function(){return new Date(c.Y(),c.n(),0).getDate()},L:function(){var e=c.Y();return e%4==0&e%100!=0|e%400==0},o:function(){var e=c.n(),t=c.W();return c.Y()+(12===e&&t<9?1:1===e&&9<t?-1:0)},Y:function(){return o.getFullYear()},y:function(){return c.Y().toString().slice(-2)},a:function(){return 11<o.getHours()?"pm":"am"},A:function(){return c.a().toUpperCase()},B:function(){var e=3600*o.getUTCHours(),t=60*o.getUTCMinutes(),n=o.getUTCSeconds();return r(Math.floor((e+t+n+3600)/86.4)%1e3,3)},g:function(){return c.G()%12||12},G:function(){return o.getHours()},h:function(){return r(c.g(),2)},H:function(){return r(c.G(),2)},i:function(){return r(o.getMinutes(),2)},s:function(){return r(o.getSeconds(),2)},u:function(){return r(1e3*o.getMilliseconds(),6)},e:function(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I:function(){return new Date(c.Y(),0)-Date.UTC(c.Y(),0)!=new Date(c.Y(),6)-Date.UTC(c.Y(),6)?1:0},O:function(){var e=o.getTimezoneOffset(),t=Math.abs(e);return(0<e?"-":"+")+r(100*Math.floor(t/60)+t%60,4)},P:function(){var e=c.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-o.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(s,n)},r:function(){return"D, d M Y H:i:s O".replace(s,n)},U:function(){return o/1e3|0}};return a=e,o=void 0===(i=t)?new Date:i instanceof Date?new Date(i):new Date(1e3*i),a.replace(s,n)},load:function(){var e=(new Date).getTimezoneOffset(),t=c.client.get(),n=t.timezone_offset!=e;n&&(t.timezone_offset=e,c.client.set(t)),(e={minutes:0<e?-Math.abs(e):Math.abs(e)}).hours=e.minutes/60,e.seconds=60*e.minutes,function(a,e){var i=!(1<arguments.length&&void 0!==e)||e;$("body > table > tbody > tr.directory > td:nth-child(2), tbody tr.file > td[data-raw]:nth-child(2)").each(function(e,t){t=$(t);var r=parseInt(t.attr("data-raw")),n=function(e){if(0===e)return"Now";if(e<0)return!1;for(var t={year:31556926,month:2629743,week:604800,day:86e3,hour:3600,minute:60,second:1},n=Object.keys(t),r=n.length-1,o=!1,a=0;a<n.length;a++){var i=n[a];if(!(e<=t[i])){var l=a+1<=r?n[a+1]:null,s=Math.floor(e/t[i]),c=l?Math.floor((e-s*t[i])/t[l]):0,o="".concat(s," ").concat(i).concat(1==s?"":"s")+(0<c?" and ".concat(c," ").concat(l).concat(1==c?"":"s"):"")+" ago";break}}return o}(s.timestamp-r),o=!0===i?$("<span/>"):t.find("> span");!0===i&&(s.format.date.forEach(function(e,t){var n;t<=1&&(n=$("<span/>",{text:c.dates.format(e,r)}),1<s.format.date.length&&n.attr("data-view",0===t?"desktop":"mobile"),o.append(n))}),t.html(o)),n&&o.attr("title","".concat(n," (UTC").concat((0<a.hours?"+":"")+a.hours,")"))}),$('body > div.top-bar > .directory-info div[data-count="files"], \t\t\t\t\t\tbody > div.top-bar > .directory-info div[data-count="directories"]').each(function(e,t){(t=$(t))[0].hasAttribute("data-raw")&&$(t).attr("title","Newest: "+c.dates.format(s.format.date[0],parseInt(t.attr("data-raw"))))})}(e,n)}},sort:{load:function(){var e=document.querySelectorAll("table th span[sortable]");if(Object.prototype.hasOwnProperty.call(s,"sorting")&&s.sorting.enabled&&(0===s.sorting.types||1===s.sorting.types)){var t,n="asc"===s.sorting.order,r=null;switch(s.sorting.sort_by){case"name":r=0;break;case"modified":r=1;break;case"size":r=2;break;case"type":r=3;break;default:r=null}null===r||0<(t=$(e[r]).closest("th")).length&&(t[0].asc=n,t.find("> span.sort-indicator").addClass(n?"down":"up").fadeIn(350))}}},gallery:{instance:null,load:function(e){var t=0<arguments.length&&void 0!==e?e:0;if(!s.gallery.enabled)return!1;s.debug&&console.log("gallery.load =>",t);var n=$("body > div.preview-container > video");if(c.gallery.instance&&!1!==c.gallery.instance){c.gallery.instance.store.continue.video=0<n.length?{src:n.find("source").attr("src"),time:n[0].currentTime}:null,c.store.preview.video=null;var r=c.store.refresh?c.getTableItems():null;return null!==r&&0===r.length?!1:(c.gallery.instance.show(!0,null===t?c.gallery.instance.data.selected.index:t,r),void(c.store.refresh&&(c.store.refresh=!1)))}var o=c.client.get(),a={},i=JSON.parse(Object.prototype.hasOwnProperty.call(o.gallery,"list_state")?o.gallery.list_state:1);a.start=null===t?0:t,a.filter=!1,a.console=s.debug,a.fade=s.gallery.fade,a.mobile=s.mobile,a.reverse_options=c.checkNested(o,"gallery","reverse_options")?o.gallery.reverse_options:s.gallery.autoplay,a.autoplay=c.checkNested(o,"gallery","autoplay")?o.gallery.autoplay:s.gallery.autoplay,a.volume=c.checkNested(o,"gallery","volume")?o.gallery.volume:s.gallery.volume,a.fit_content=c.checkNested(o,"gallery","fit_content")?o.gallery.fit_content:s.gallery.fit_content,a.scroll_interval=s.gallery.scroll_interval,a.list={show:null==i||!!i,reverse:!!c.checkNested(o,"gallery","list_alignment")&&0!==o.gallery.list_alignment},a.continue={video:0<n.length?{src:n.find("source").attr("src"),time:n[0].currentTime}:null},c.gallery.instance=new $.fn.gallery(c.getTableItems(),a),!1!==c.gallery.instance&&($(c.gallery.instance).on("unbound",function(){return c.bind()}),$(c.gallery.instance).on("volumeChange",function(e,t){(o=c.client.get()).gallery.volume=t,c.client.set(o)}))}},overlay:{hide:function(e){var t=0<arguments.length&&void 0!==e?e:function(){},n=0;[{e:$("body > .filter-container"),func:c.filter.toggle},{e:$("body > div.menu"),func:c.menu.toggle}].forEach(function(e){0<e.e.length&&e.e.is(":visible")&&(e.func(),n++)}),t(0<n)}},getTableItems:function(){var o=[];return document.querySelectorAll("body > table > tbody > tr.file > td:first-child > a.preview").forEach(function(e){var t=e.parentNode,n=t.parentNode;if(n.hasAttribute("hidden"))return!1;var r=e.getAttribute("href");void 0!==r&&"undefined"!=typeof name&&o.push({url:r,name:t.getAttribute("data-raw"),size:n.querySelector("td:nth-child(3)").innerHTML})}),o},events:{scroll:function(){var e=$("body > div.path"),t=$("body > div.top-bar > div.directory-info > div.quick-path");$(window).scrollTop()<e.offset().top+e.outerHeight()?t.fadeOut(150):(0===t.length&&(t=$("<div/>",{class:"quick-path","data-view":"desktop"}).html($("body > div.path").html()),$("body > div.top-bar > div.directory-info").append(t)),t.fadeIn(150).css("display","inline-block"))},sortTableColumn:function(e){var t=$(e).parent(),n=t.index(),r=$(e).is("th")?e:t[0],o=$("body > table"),a={directories:o.find("tbody > tr.directory").toArray(),files:o.find("tbody > tr.file").toArray()},i=Object.prototype.hasOwnProperty.call(s.sorting,"sort_by")&&(2===n||3===n);0!==s.sorting.types&&2!==s.sorting.types||i||a.directories.sort(c.comparer($(r).index())),0!==s.sorting.types&&1!==s.sorting.types||a.files.sort(c.comparer($(r).index())),r.asc=!r.asc,$("body > table > thead > tr > th span.sort-indicator").removeClass("up down"),t.find("> span.sort-indicator").addClass(r.asc?"down":"up").show();var l=c.client.get();l.sort.ascending=r.asc?1:0,l.sort.row=n,c.client.set(l),r.asc||(0!==s.sorting.types&&2!==s.sorting.types||i||(a.directories=a.directories.reverse()),0!==s.sorting.types&&1!==s.sorting.types||(a.files=a.files.reverse())),Object.keys(a).forEach(function(e){return a[e].forEach(function(e){return o.append(e)})}),c.store.refresh=!0,c.store.selected=null,$("body > table > tbody > tr.last").removeClass("last")}},bind:function(){$(document).off("keydown").on("keydown",function(t){var e;t.shiftKey&&70===t.keyCode?(t.preventDefault(),c.filter.toggle()):27===t.keyCode?c.overlay.hide(function(e){!0===e&&t.preventDefault()}):71===t.keyCode&&!0===s.gallery.enabled&&(!1!==(e=$("body > .filter-container")).is(":visible")&&e.find('input[type="text"]').is(":focus")||(c.gallery.load(null),c.menu.toggle(!1)))}),$(window).on("scroll",c.debounce(function(){c.events.scroll()}))}};$("body > div.top-bar > div.extend").on("click",function(e){c.menu.toggle(e.currentTarget)}),$("body > div.filter-container > div.close > span").on("click",function(){c.filter.toggle()}),$('body > div.filter-container > div input[type="text"]').on("input",function(e){var t=$(e.currentTarget);c.filter.apply(t.val())}),document.querySelector("body > table").addEventListener("click",function(e){var t;"SPAN"==e.target.tagName&&e.target.hasAttribute("sortable")?c.events.sortTableColumn(e.target):"A"==e.target.tagName&&"preview"==e.target.className&&!0===s.gallery.enabled&&(performance.now(),e.preventDefault(),t=$(e.target).closest("table").find("tr.file:visible").filter(function(e,t){return 0<$(t).find("a.preview").length}).index($(e.target).closest("tr.file")),c.gallery.load(-1!==t?t:0),performance.now())},!0),window.addEventListener("resize",c.debounce(function(){s.debug&&console.log("resized"),s.mobile=Modernizr.mq("(max-width: 640px)"),c.gallery.instance&&(c.gallery.instance.store.mobile=s.mobile,c.gallery.instance.update.listWidth())})),$(document).ready(function(){var n,e;c.bind(),c.dates.load(),$('body > .filter-container > input[type="text"]').val(""),s.mobile=Modernizr.mq("(max-width: 640px)"),c.menu.create().css({top:$("body > div.top-bar").innerHeight()+"px",visibility:"unset",display:"none"}),!1===s.mobile&&!0===s.preview.enabled&&(n={},0<(e=$("body").find("> table tr.file > td > a.preview")).length&&window.hoverPreview(e[0],{delay:s.preview.hover_delay,cursor:s.preview.cursor_indicator,encodeAll:!0}),document.querySelector("body > table").addEventListener("mouseenter",function(e){var t;"A"==e.target.tagName&&"preview"==e.target.className&&(t=$(e.target).closest("tr").index(),Object.prototype.hasOwnProperty.call(n,t)||(n[t]=window.hoverPreview(e.target,{delay:s.preview.hover_delay,cursor:s.preview.cursor_indicator,encodeAll:!0})))},!0)),c.events.scroll()}),c.client.get(),c.sort.load(),s.debug&&console.log("config",s)}();