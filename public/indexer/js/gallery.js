"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,o=void 0;try{for(var a,d=e[Symbol.iterator]();!(i=(a=d.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{i||null==d.return||d.return()}finally{if(r)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}
/**
 * @license
 * 
 * <gallery-mode-plugin> A plugin for <eyy-indexer> [https://github.com/sixem/eyy-indexer]
 * 
 * @author   emy [admin@eyy.co]
 */
!function(f){f.fn.gallery=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},p={data:{busy:!1,scrollbreak:!1}};p.data.keys={escape:27,pageUp:33,pageDown:34,arrowLeft:37,arrowUp:38,arrowRight:39,arrowDown:40,g:71,l:76},p.store=f.extend({extensions:{image:["jpg","jpeg","gif","png","ico","svg","bmp","webp"],video:["mp4","webm","ogv","ogg"]},console:!0,blur:!0,filter:!0,start:0,fade:0,mobile:!1,scroll_interval:35,autoplay:!0,volume:0,reverse_options:!0,fit_content:!1,list:{show:!0,reverse:!1},continue:{video:null}},p.store,t),p.loadImage=function(o){return new Promise(function(n,t){var i=document.createElement("img");i.src=o,i.addEventListener("error",function(e){t(new Error("failed to load image URL: ".concat(o)))});var r=setInterval(function(){var e=i.naturalWidth,t=i.naturalHeight;e&&t&&(clearInterval(r),n([o,i,[e,t]]))},30)})},p.encodeUrl=function(e){return encodeURI(e).replace("#","%23").replace("?","%3F")},p.getExtension=function(e){return e.split(".").pop().toLowerCase()},p.getObjectSet=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return f(t.filter(function(e){return void 0!==e}).map(function(e){return f(e)}))},p.filterItems=function(e){return e.filter(function(e){return p.isImage(e.name)||p.isVideo(e.name)})},p.isImage=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return p.store.extensions.image.includes(t||p.getExtension(e))},p.isVideo=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;return p.store.extensions.video.includes(t||p.getExtension(e))},p.getScrollBarWidth=function(){if(!(0<arguments.length&&void 0!==arguments[0]&&arguments[0])&&f(document).height()<=f(window).height())return 0;var e=f("<div>").css({visibility:"hidden",width:100,overflow:"scroll"}).appendTo("body"),t=f("<div>").css({width:"100%"}).appendTo(e).outerWidth();return e.remove(),100-t},p.data.scrollBar={width:p.getScrollBarWidth(),widthForced:f(document).height()<=f(window).height()},p.limitBody=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=f("body"),n=f("html"),i=p.data.scrollBar.width;!0===e?(p.data.body={"max-height":t.css("max-height"),overflow:t.css("overflow")},0<i&&n.css({"padding-right":i+"px"}),t.css({"max-height":"calc(100vh - var(--height-gallery-top-bar))",overflow:"hidden"})):(Object.prototype.hasOwnProperty.call(p.data,"body")&&t.css({"max-height":p.data.body["max-height"],overflow:p.data.body.overflow}),n.css({"padding-right":"unset"}))},p.exists=function(){return p.container=f("body > div.gallery-container"),0<p.container.length},p.show=function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;n&&(p.store.console&&console.log("itemsUpdate",!0),p.data.selected.index=null,p.items=p.store.filter?p.filterItems(n):n,p.populateTable(p.items)),!0===e?(p.bind().show(),t!==p.data.selected.index&&(p.container.find("> div.content-container > div.media > div.wrapper img, > div.content-container > div.media > div.wrapper video").hide(),p.navigate(t)),p.container.find("> div.content-container > div.list").scrollTo(p.container.find("> div.content-container > div.list").find("tr:nth-child("+(t+1)+")"))):(p.unbind(p.data.bound),p.container.hide()),p.store.blur&&(p.set.blur(e),p.limitBody(e));var i,r=p.container.find("> div.content-container > div.media > div.wrapper video");p.container.find("> div.content-container > div.list > table");0<r.length&&(!0===e&&r.is(":visible")?(i=r[0].currentTime,p.store.continue.video&&r.find("source").attr("src")==p.store.continue.video.src&&(i=p.store.continue.video.time,p.store.continue.video=null),r[0].currentTime=i,r[0].muted=!1,r[0][p.store.autoplay?"play":"pause"](),p.video.setVolume(r[0],p.video.getVolume())):!1===e&&r[0].pause())},p.data.busy=null,p.data.busy_handle=null,p.tick=function(e){var t=parseInt(e.attr("data-tick"));return e.text("Loading "+".".repeat(t)).attr("data-tick",3<=t?1:t+1),e},p.busy=function(e){var t;return void 0!==e&&(p.data.busy=e,t=p.container.find("> div.content-container > div.media > .loader"),f(t)[0].hasAttribute("data-tick")||f(t).attr("data-tick",1),e?(t.is(":hidden")&&t.stop().fadeIn(400),p.data.busy_handle=setInterval(function(){return p.tick(t)},225)):(t.is(":visible")&&t.stop().fadeOut(200,function(){return t.attr("data-tick",1).text("Loading .")}),p.data.busy||clearInterval(p.data.busy_handle))),p.data.busy},p.populateTable=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=p.container[0].querySelector("div.content-container > div.list > table"));for(var n=[],i=0;i<=e.length-1;i++)n[i]='<tr title="'.concat(e[i].name,'"><td>').concat(e[i].name,"</td></tr>");return t.innerHTML=n.join(""),t},p.update={listWidth:function(e){var t=(t=0<arguments.length&&void 0!==e?e:null)||p.container.find("> div.content-container > div.media > div.wrapper"),n=p.data.list?p.data.list:p.container.find("> div.content-container > div.list"),i=p.store.mobile||!n||n.is(":hidden")?0:n.outerWidth();t[0].style.setProperty("--width-list",i+"px")}},p.getReverseOptions=function(e){return{Google:"https://www.google.com/searchbyimage?image_url="+(e=p.encodeUrl(document.location.origin+e))+"&safe=off",Yandex:"https://yandex.com/images/search?rpt=imageview&url="+e,IQDB:"https://iqdb.org/?url="+e}},p.reverse=function(){if(!p.store.reverse_options||0===p.container.find("> div.content-container > div.media > div.wrapper > div.cover").length)return!1;var e=p.container.find("> div.content-container > div.media .reverse");0===e.length&&(e=f("<div/>",{class:"reverse"}).appendTo(p.container.find("> div.content-container > div.media > div.wrapper > div.cover")));var t=p.getReverseOptions(p.data.selected.src);e.html(Object.keys(t).map(function(e){return'<a class="reverse-link" target="_blank" href="'.concat(t[e],'">').concat(e,"</a>")}))},p.shortenString=function(e,t){return t=t||28,e.length>t?[e.substr(0,Math.floor(t/2-2)),e.substr(e.length-Math.floor(t/2-2),e.length)].join(" .. "):e},p.set={cache:{info:null},itemInfo:function(e,t,n,i){var r=1<arguments.length&&void 0!==t?t:null,o=2<arguments.length&&void 0!==n?n:null,a=3<arguments.length&&void 0!==i?i:null;if(p.store.console&&!e&&console.log("itemSet",r),!e)return!(p.set.cache.info=[r,o,a]);if(Array.isArray(p.set.cache.info))var d=_slicedToArray(p.set.cache.info,3),r=d[0],o=d[1],a=d[2];else if(null===r||null===o||null===a)return!1;var l=p.store.mobile?p.shortenString(r.name,30):r.name,c=p.encodeUrl(r.url);return p.container.find(".bar > .right > a.download").attr("filename",r.name).attr("href",c).attr("title","Download: ".concat(r.name)),p.container.find("> div.bar > div.left").html("<span>".concat(o+1," of ").concat(a,"</span>")+' | <a href="'.concat(c,'">').concat(l,"</a>")+(Object.prototype.hasOwnProperty.call(r,"size")&&!p.store.mobile?" | <span>".concat(r.size,"</span>"):"")),!0},blur:function(e){return!0===(!(0<arguments.length&&void 0!==e)||e)?p.data.blurred=f("body > *:not(.gallery-container):not(script):not(noscript):not(style)").addClass("blur ns"):Object.prototype.hasOwnProperty.call(p.data,"blurred")&&p.data.blurred.removeClass("blur ns"),p}},p.isScrolledIntoView=function(e,t){var n=e.offset().top-f(window).scrollTop();return!(n<t)&&!(n+e.outerHeight()>f(window).height())},p.scrollIntoView=function(e,t){t.stop().animate({scrollTop:e.offset().top-t.offset().top},0)},p.calculateIndex=function(e,t,n){var i=e+t;return n<i&&(i=i-n-1),i<0&&(i=n-(Math.abs(i)-1)),i<0||n<i?p.calculateIndex(e,n-i,n):i},p.video={create:function(e){var t=f("<video/>",{controls:"",preload:"none",loop:""}),n=f("<source>",{type:"video/"+("ogv"===e?"ogg":e),src:""}).appendTo(t);return p.video.setVolume(t.get(0),p.video.getVolume()),[t,n]},getVolume:function(){var e=parseFloat(p.store.volume);return e=isNaN(e)||e<0||1<e?0:e},setVolume:function(e,t){return 0<t?e.volume=1<=t?1:t:e.muted=!0,t},seek:function(e){var t=p.container.find("> div.content-container > div.media > div.wrapper video").get(0);if(t){var n=Math.round(t.currentTime),i=Math.round(t.duration);if(0<e){if(i<n+e)return!0;t.currentTime=n+e}else if(e<0){if(n+e<0)return!0;t.currentTime=n+e}return!1}}},p.showItem=function(t,n,e,i,r){var o,a,d=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,l=p.container.find("> div.content-container > div.media > div.wrapper");0<p.store.fade&&l.hide();function c(){p.container.find("> div.content-container > div.media > div.wrapper > div:not(.cover)").remove(),p.set.itemInfo(!0);var e=l.find(0===t?"video":"img").hide();1===(p.data.selected.type=t)&&e.parent(".cover").hide(),0<p.store.fade?l.stop().fadeOut(p.store.fade,function(){l.stop().fadeIn(p.store.fade)}):l.show(),p.busy(!1)}var s,v,u,g;0===t?(o=l.find("video"),p.store.fit_content&&(s="calc(calc(100vw - var(--width-list)) / ".concat((d.img.width/d.img.height).toFixed(4),")"),p.update.listWidth(l),n.css({width:"auto",height:s}),n.parent(".cover").css("height",s)),n.attr("src","").attr("src",e).show(),n.parent(".cover").show(),0<o.length&&(o.off("error"),o[0].pause(),o.find("source").attr("src","")),c()):1===t&&(!1===i?(v=_slicedToArray(p.video.create(p.data.selected.ext),2),o=v[0],a=v[1],o.appendTo(l)):(a=n.find("source"),o=n),u=!1,a.attr("src",e),g=function(e){console.error("Failed to load video source.",e),p.busy(!1)},o.on("error",g),a.on("error",g),o.on("volumechange",function(){p.store.volume=o.get(0).muted?0:parseFloat(parseFloat(o.get(0).volume).toFixed(2)),f(p).trigger("volumeChange",p.store.volume)}),o.on("canplay canplaythrough",function(){if(u)return!1;var e=o[0].videoHeight,t=o[0].videoWidth;p.store.fit_content&&(p.update.listWidth(l),o.css({width:"auto",height:"calc(calc(100vw - var(--width-list)) / ".concat((t/e).toFixed(4),")")})),p.store.volume&&(o.get(0).volume=p.store.volume),p.store.autoplay&&o[0].play(),o.show(),p.container.is(":visible")||(p.container.find("> div.content-container > div.media > div.wrapper > div.loader").hide(),o[0].pause()),!1===i&&n.remove(),u=!0,c()}),o[0].load(),p.store.continue.video&&e==p.store.continue.video.src&&(o[0].currentTime=p.store.continue.video.time,p.store.continue.video=null)),p.data.selected.index=r},p.navigate=function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(p.store.console&&console.log("busyState",p.busy()),p.busy())return!1;var t,d,n=p.items.length-1;if(null===a&&(a=p.data.selected.index),null!==e&&(a=p.calculateIndex(a,e,n)),p.data.selected.index===a||!0===p.busy())return!1;l=p.container.find("> div.content-container > div.media > div.wrapper img"),t=p.container.find("> div.content-container > div.media > div.wrapper video");var i,l,r=p.container.find("> div.content-container > div.list"),o=r.find("> table"),c=o.find("tr:nth-child("+(a+1)+")"),s=p.items[a],v=p.encodeUrl(s.url);return p.data.selected.src=v,p.data.selected.ext=p.getExtension(s.name),o.find("tr.selected").removeAttr("class"),c.attr("class","selected"),p.set.itemInfo(0===l.length&&0===t.length,s,a,1+n),p.isScrolledIntoView(c,Math.floor(p.container.find("> div.bar").outerHeight()-4))||r.scrollTo(c),p.isImage(null,p.data.selected.ext)?(p.busy(!0),d=0===l.length,0<t.length&&t[0].pause(),!0===d&&(i=f("<div/>",{class:"cover"}).hide().prependTo(p.container.find("> div.content-container > div.media > div.wrapper")),l=f("<img>").prependTo(i)),p.loadImage(v).then(function(e){var t=_slicedToArray(e,3),n=t[0],i=(t[1],_slicedToArray(t[2],2)),r=i[0],o=i[1];p.data.selected.src===n&&p.showItem(0,l,n,d,a,{img:{width:r,height:o}})}).catch(function(e){console.error(e),p.busy(!1),p.data.selected.index=a,p.container.find("> div.content-container > div.media > div.wrapper img, > div.content-container > div.media > div.wrapper video").hide(),p.container.find("> div.content-container > div.media > div.wrapper > div:not(.cover)").remove(),f("<div/>",{class:"error",text:"Error: Image could not be displayed."}).prependTo(p.container.find(".media .wrapper"))}),!0):p.isVideo(null,p.data.selected.ext)?(p.busy(!0),(d=0===t.length)&&(t=p.video.create(p.data.selected.ext)[0]).appendTo(p.container.find("> div.content-container > div.media > div.wrapper")),p.showItem(1,t,v,d,a),!0):void 0},p.data.key_prevent=[p.data.keys.pageUp,p.data.keys.pageDown,p.data.keys.arrowLeft,p.data.keys.arrowUp,p.data.keys.arrowRight,p.data.keys.arrowDown],p.handleKey=function(e,t){p.store.console&&console.log("handleKey",e),e===p.data.keys.escape?p.show(!1):e===p.data.keys.arrowDown||e===p.data.keys.pageDown||e===p.data.keys.arrowRight?e===p.data.keys.arrowRight&&1===p.data.selected.type&&!p.video.seek(5)||p.navigate(null,1):e===p.data.keys.arrowUp||e===p.data.keys.pageUp||e===p.data.keys.arrowLeft?e===p.data.keys.arrowLeft&&1===p.data.selected.type&&!p.video.seek(-5)||p.navigate(null,-1):e===p.data.keys.l&&p.toggleList(),t(p.data.key_prevent.includes(e))},p.unbind=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];e.forEach(function(e){return Object.prototype.hasOwnProperty.call(e,"direct")&&!0===e.direct?(f(e.trigger).off(e.event),!0):void(e.trigger?f(document).off(e.event,e.trigger):f(document).off(e.event))}),!0===t&&f(p).trigger("unbound",!0)},p.scrollBreak=function(){p.data.scrollbreak=!1},p.toggleList=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=p.container.find("> div.content-container > div.list"),n=t.is(":visible"),i=JSON.parse(Cookies.get("ei-client"));return i.gallery.list_state=n?0:1,Cookies.set("ei-client",JSON.stringify(i),{sameSite:"lax",expires:365}),(e=e||f('div.gallery-container > div.bar .right span[data-action="toggle"]')).text("List"+(n?"+":"-")),t.css("display",n?"none":"table-cell"),p.update.listWidth(),!n},p.bind=function(){return p.data.bound=[{event:"click",trigger:"body > div.gallery-container > div.content-container > div.list table tr"},{event:"click",trigger:'body > div.gallery-container [data-action="close"]'},{event:"click",trigger:'body > div.gallery-container [data-action="toggle"]'},{event:"click",trigger:'body > div.gallery-container [data-action="previous"]'},{event:"click",trigger:'body > div.gallery-container [data-action="next"]'},{event:"click",trigger:"body > div.gallery-container > div.content-container > div.media"},{event:"DOMMouseScroll mousewheel",trigger:"body > div.gallery-container > div.content-container > div.media"},{event:"mouseenter",trigger:"body > div.gallery-container > div.content-container > div.media > div.wrapper > div.cover"},{event:"swipeleft",trigger:"body > div.gallery-container",direct:!0},{event:"swiperight",trigger:"body > div.gallery-container",direct:!0},{event:"mouseup",trigger:"body > div.gallery-container"},{event:"keydown",trigger:null},{event:"keyup",trigger:null}],p.unbind(p.data.bound,!1),p.data.list_drag.on("mousedown",function(){p.data.list_dragged=!0;var i=window.innerWidth,e=p.container.find("> div.content-container > div.media > div.wrapper");f("body").css("cursor","w-resize"),e.css("pointer-events","none"),f(document).on("mousemove","body > div.gallery-container",function(e){var t,n=e.originalEvent.clientX;n<i&&(t=p.store.list.reverse?n+p.data.scrollbar_width:i-n,p.data.list.css("width",t+"px"))})}),f(document).on("mouseup","body > div.gallery-container",function(){var e,t,n;!0===p.data.list_dragged&&(f(document).off("mousemove","body > div.gallery-container"),e=p.container.find("> div.content-container > div.media > div.wrapper"),f("body").css("cursor",""),e.css("pointer-events","auto"),100<(t=parseInt(p.data.list.css("width").replace(/[^-\d.]/g,"")))&&((n=JSON.parse(Cookies.get("ei-client"))).gallery.list_width=t,Cookies.set("ei-client",JSON.stringify(n),{sameSite:"lax",expires:365}),p.update.listWidth(e)))}),f(document).on("click",'body > div.gallery-container [data-action="close"]',function(){p.show(!1)}),f(document).on("click",'body > div.gallery-container [data-action="toggle"]',function(e){p.toggleList(f(e.currentTarget))}),f(document).on("click",'body > div.gallery-container [data-action="previous"]',function(){p.navigate(null,-1)}),f(document).on("click",'body > div.gallery-container [data-action="next"]',function(){p.navigate(null,1)}),f(document).on("click","body > div.gallery-container > div.content-container > div.list table tr",function(e){p.navigate(f(e.currentTarget).index())}),f(document).on("click","body > div.gallery-container > div.content-container > div.media",function(e){f(e.target).is("img, video, a")||p.show(!1)}),!0===p.store.reverse_options&&f(document).on("mouseenter","body > div.gallery-container > div.content-container > div.media > div.wrapper > div.cover",function(e){p.reverse(f(e.currentTarget))}),!0===p.store.mobile&&(f("body > div.gallery-container").on("swipeleft",function(){return p.navigate(null,1)}),f("body > div.gallery-container").on("swiperight",function(){return p.navigate(null,-1)})),f(document).on("DOMMouseScroll mousewheel","body > div.gallery-container > div.content-container > div.media",function(e){return!(0<p.store.scroll_interval&&!0===p.data.scrollbreak)&&(p.navigate(null,0<e.originalEvent.detail||e.originalEvent.wheelDelta<0?1:-1),void(0<p.store.scroll_interval&&(p.data.scrollbreak=!0,setTimeout(function(){return p.scrollBreak()},p.store.scroll_interval))))}),f(document).on("keydown",f.fn,function(e){p.data.key_prevent.includes(e.keyCode)&&e.preventDefault(),e.keyCode===p.data.keys.g&&p.show(!1)}),f(document).on("keyup",f.fn,function(t){p.handleKey(t.keyCode,function(e){e&&t.preventDefault()})}),f(p).trigger("bound",!0),p.container},p.barConstruct=function(e){f("<a/>",{text:p.store.mobile?"Save":"Download",class:"download",download:""}).appendTo(e),p.store.mobile||f("<span/>",{"data-action":"previous",text:"Previous"}).appendTo(e),p.store.mobile||f("<span/>",{"data-action":"next",text:"Next"}).appendTo(e),p.store.mobile||f("<span/>",{"data-action":"toggle",text:p.store.list.show?"List-":"List+"}).appendTo(e),f("<span/>",{"data-action":"close",text:"Close"}).appendTo(e)};return p.container=f("body > div.gallery-container"),p.items=p.store.filter?p.filterItems(e):e,0!==p.items.length&&(p.data.selected={src:null,ext:null,index:null,type:null},p.exists()?p.show(!0):function(e){p.limitBody(!0);var t=f("body").find("body > div.preview-container");0<t.length&&t.remove(),p.container=f("<div/>",{class:"gallery-container"}).prependTo("body");var n=f("<div/>",{class:"bar"}).appendTo(p.container);f("<div/>",{class:"left"}).appendTo(n),p.barConstruct(f("<div/>",{class:"right"}).appendTo(n));var i=f("<div/>",{class:"content-container"}).appendTo(p.container),r=f("<div/>",{class:"media"}),o=f("<div/>",{class:"ns list"+(p.store.list.reverse?" reversed":"")});i.append(p.store.list.reverse?o:r).append(p.store.list.reverse?r:o),p.data.list_drag=f("<div/>",{class:"drag"+(p.store.list.reverse?" reversed":"")}).appendTo(o),p.data.list=o,p.data.list_dragged=!1,p.data.scrollbar_width=p.data.scrollBar.widthForced?0:p.data.scrollBar.width;var a=JSON.parse(Cookies.get("ei-client"));try{var d=JSON.parse(a.gallery.list_width.toString().toLowerCase());!1===d?d="":parseInt(d)>window.innerWidth/2&&(a.gallery.list_width=Math.floor(window.innerWidth/2),Cookies.set("ei-client",JSON.stringify(a),{sameSite:"lax",expires:365})),p.data.list.css("width",d)}catch(e){a.gallery.list_width=!1,Cookies.set("ei-client",JSON.stringify(a),{sameSite:"lax",expires:365})}p.store.list.show||o.hide(),!0===p.store.mobile&&(o.hide(),f("<span/>",{}).appendTo(f("<div/>",{class:"screen-nav left","data-action":"previous"}).appendTo(i)),f("<span/>",{}).appendTo(f("<div/>",{class:"screen-nav right","data-action":"next"}).appendTo(i))),f("<div/>",{class:"wrapper"+(p.store.fit_content?" fill":"")}).appendTo(r),f("<div/>",{class:"loader"+(p.store.list.reverse?" reversed":"")}).html("Loading ..").appendTo(r),f("<tbody/>").appendTo(f("<table/>",{cellspacing:"0"}).appendTo(o)),p.populateTable(p.items),e(!0)}(function(){p.bind(),p.store.blur&&p.set.blur()}),p.navigate(p.store.start>p.items.length-1?p.items.length-1:p.store.start),p)}}(jQuery);